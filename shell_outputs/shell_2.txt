ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ curl http://localhost:5001/data
curl http://localhost:5000/api
curl: (7) Failed to connect to localhost port 5001 after 0 ms: Connection refused
curl: (7) Failed to connect to localhost port 5000 after 0 ms: Connection refused
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ curl http://localhost:5001/data
curl http://localhost:5000/api
curl: (7) Failed to connect to localhost port 5001 after 0 ms: Connection refused
curl: (7) Failed to connect to localhost port 5000 after 0 ms: Connection refused
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ curl http://localhost:5001/data
curl http://localhost:5000/api
{"message":"ola do microservico 2","service":"data-service","utc":"2026-02-05T00:20:02.883531"}
{"from_data_service":{"message":"ola do microservico 2","service":"data-service","utc":"2026-02-05T00:20:02.909500"},"service":"gateway","status":"ok"}
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ cd ~/projeto-final-devops/projeto-final-devops
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ git init
git add .
git commit -m "Projeto inicial DevOps final"
hint: Using 'master' as the name for the initial branch. This default branch name
hint: is subject to change. To configure the initial branch name to use in all
hint: of your new repositories, which will suppress this warning, call:
hint: 
hint: 	git config --global init.defaultBranch <name>
hint: 
hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
hint: 'development'. The just-created branch can be renamed via this command:
hint: 
hint: 	git branch -m <name>
Initialized empty Git repository in /home/ubuntu/projeto-final-devops/projeto-final-devops/.git/
[master (root-commit) 1fdb98e] Projeto inicial DevOps final
 11 files changed, 64 insertions(+)
 create mode 100644 .github/workflows/ci-cd.yml
 create mode 100644 README.md
 create mode 100644 docker-compose.yml
 create mode 100644 services/data-service/Dockerfile
 create mode 100644 services/data-service/app/main.py
 create mode 100644 services/data-service/requirements.txt
 create mode 100644 services/data-service/tests/test_data.py
 create mode 100644 services/gateway/Dockerfile
 create mode 100644 services/gateway/app/main.py
 create mode 100644 services/gateway/requirements.txt
 create mode 100644 services/gateway/tests/test_gateway.py
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ git remote add origin https://github.com/Melo2Lm/projeto-final-devops.git
git branch -M main
git push -u origin main
Username for 'https://github.com': ^C
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ git remote add origin https://github.com/Melo2L/projeto-final-devops.git
git branch -M main
git push -u origin main
error: remote origin already exists.
Username for 'https://github.com': Melo2L
Password for 'https://Melo2L@github.com': 
remote: Invalid username or token. Password authentication is not supported for Git operations.
fatal: Authentication failed for 'https://github.com/SEU_USUARIO/projeto-final-devops.git/'
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ git remote -v
origin	https://github.com/Melo2Lm/projeto-final-devops.git (fetch)
origin	https://github.com/Melo2Lm/projeto-final-devops.git (push)
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ git remote set-url origin https://github.com/Melo2L/projeto-final-devops.git
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ git remote -v
origin	https://github.com/Melo2L/projeto-final-devops.git (fetch)
origin	https://github.com/Melo2L/projeto-final-devops.git (push)
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ git push -u origin main
Username for 'https://github.com': Melo2L
Password for 'https://Melo2L@github.com': 
Enumerating objects: 18, done.
Counting objects: 100% (18/18), done.
Delta compression using up to 3 threads
Compressing objects: 100% (9/9), done.
Writing objects: 100% (18/18), 1.76 KiB | 900.00 KiB/s, done.
Total 18 (delta 0), reused 0 (delta 0), pack-reused 0
To https://github.com/Melo2L/projeto-final-devops.git
 ! [remote rejected] main -> main (refusing to allow a Personal Access Token to create or update workflow `.github/workflows/ci-cd.yml` without `workflow` scope)
error: failed to push some refs to 'https://github.com/Melo2L/projeto-final-devops.git'
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ git push -u origin main
Username for 'https://github.com': Melo2L
Password for 'https://Melo2L@github.com': 
Enumerating objects: 18, done.
Counting objects: 100% (18/18), done.
Delta compression using up to 3 threads
Compressing objects: 100% (9/9), done.
Writing objects: 100% (18/18), 1.76 KiB | 900.00 KiB/s, done.
Total 18 (delta 0), reused 0 (delta 0), pack-reused 0
To https://github.com/Melo2L/projeto-final-devops.git
 ! [remote rejected] main -> main (refusing to allow a Personal Access Token to create or update workflow `.github/workflows/ci-cd.yml` without `workflow` scope)
error: failed to push some refs to 'https://github.com/Melo2L/projeto-final-devops.git'
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ git push -u origin main
Username for 'https://github.com': Melo2L
Password for 'https://Melo2L@github.com': 
Enumerating objects: 18, done.
Counting objects: 100% (18/18), done.
Delta compression using up to 3 threads
Compressing objects: 100% (9/9), done.
Writing objects: 100% (18/18), 1.76 KiB | 600.00 KiB/s, done.
Total 18 (delta 0), reused 0 (delta 0), pack-reused 0
To https://github.com/Melo2L/projeto-final-devops.git
 * [new branch]      main -> main
Branch 'main' set up to track remote branch 'main' from 'origin'.
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ cat > .github/workflows/ci-cd.yml <<'YAML'
name: Projeto inicial DevOps final

on:
  push:
    branches: [ "main" ]
  workflow_dispatch:

jobs:
  build-test:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout do codigo
        uses: actions/checkout@v4

      - name: Build dos containers
        run: docker compose build

      - name: Subir containers
        run: docker compose up -d

      - name: Smoke test (curl)
YAML    run: docker compose down -vno-colorpia
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ git add .github/workflows/ci-cd.yml
git commit -m "Corrigindo gatilhos do GitHub Actions (on)"
git push
[main 458dfdd] Corrigindo gatilhos do GitHub Actions (on)
 1 file changed, 34 insertions(+)
Username for 'https://github.com': Melo2L
Password for 'https://Melo2L@github.com': 
Enumerating objects: 9, done.
Counting objects: 100% (9/9), done.
Delta compression using up to 3 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (5/5), 795 bytes | 795.00 KiB/s, done.
Total 5 (delta 0), reused 0 (delta 0), pack-reused 0
To https://github.com/Melo2L/projeto-final-devops.git
   1fdb98e..458dfdd  main -> main
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ ls .github/workflows
ci-cd.yml
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ cat > .github/workflows/ci-cd.yml <<'YAML'
name: Projeto final DevOps - CI/CD

on:
  push:
    branches: ["main"]
  workflow_dispatch:

jobs:
  build-test:
    name: Build + Tests
    runs-on: ubuntu-latest

    steps:
      - name: Checkout do codigo
        uses: actions/checkout@v4

      - name: Build dos containers
        run: docker compose build

      - name: Rodar testes (unit)
        run: |
          docker compose run --rm data-service python -m pytest -q
        rf: always()a PRD//localhost:5000/apiaon -m pytest -q
> 
> YAML
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ cat .github/workflows/ci-cd.yml
name: Projeto final DevOps - CI/CD

on:
  push:
    branches: ["main"]
  workflow_dispatch:

jobs:
  build-test:
    name: Build + Tests
    runs-on: ubuntu-latest

    steps:
      - name: Checkout do codigo
        uses: actions/checkout@v4

      - name: Build dos containers
        run: docker compose build

      - name: Rodar testes (unit)
        run: |
          docker compose run --rm data-service python -m pytest -q
          docker compose run --rm gateway python -m pytest -q

  deploy-dev:
    name: Deploy DEV
    runs-on: ubuntu-latest
    needs: build-test
    environment: DEV

    steps:
      - uses: actions/checkout@v4

      - name: Subir stack (DEV)
        run: docker compose up -d --build

      - name: Smoke test DEV
        run: |
          sleep 20
          curl -sSf http://localhost:5001/data
          curl -sSf http://localhost:5000/api

      - name: Logs (se falhar)
        if: failure()
        run: docker compose logs --no-color

      - name: Limpeza DEV
        if: always()
        run: docker compose down -v

  deploy-stg:
    name: Deploy STG
    runs-on: ubuntu-latest
    needs: deploy-dev
    environment: STG

    steps:
      - uses: actions/checkout@v4
      - name: Subir stack (STG)
        run: docker compose up -d --build

      - name: Smoke test STG
        run: |
          sleep 20
          curl -sSf http://localhost:5001/data
          curl -sSf http://localhost:5000/api

      - name: Limpeza STG
        if: always()
        run: docker compose down -v

  deploy-prd:
    name: Deploy PRD
    runs-on: ubuntu-latest
    needs: deploy-stg
    environment: PRD

    steps:
      - uses: actions/checkout@v4
      - name: Subir stack (PRD)
        run: docker compose up -d --build

      - name: Smoke test PRD
        run: |
          sleep 20
          curl -sSf http://localhost:5001/data
          curl -sSf http://localhost:5000/api

      - name: Limpeza PRD
        if: always()
        r


ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ git add .github/workflows/ci-cd.yml
git commit -m "Pipeline com DEV STG PRD + testes"
git push
[main 2385ae6] Pipeline com DEV STG PRD + testes
 1 file changed, 65 insertions(+), 6 deletions(-)
Username for 'https://github.com': Melo2L
Password for 'https://Melo2L@github.com': 
Enumerating objects: 9, done.
Counting objects: 100% (9/9), done.
Delta compression using up to 3 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (5/5), 990 bytes | 990.00 KiB/s, done.
Total 5 (delta 0), reused 0 (delta 0), pack-reused 0
To https://github.com/Melo2L/projeto-final-devops.git
   458dfdd..2385ae6  main -> main
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ cat > .github/workflows/ci-cd.yml <<'YAML'
name: Pipeline com DEV STG PRD + testes

on:
  push:
    branches:
      - main
  workflow_dispatch:

jobs:
  build-test:
    name: Build + Tests
    runs-on: ubuntu-latest

    steps:
      - name: Checkout do codigo
        uses: actions/checkout@v4

      - name: Build dos containers
        run: docker compose build

      - name: Rodar testes (unit)
        run: |
      - name: Scker compose up -d --buildorpiaon -m pytest -qst -q
> YAML
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ cat > .github/workflows/ci-cd.yml <<'YAML'                                      git push
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ cat > .github/workflows/ci-cd.yml <<'YAML'
                                                                cat > .github/workflows/ci-cd.yml <<'YAML'
                                                                cat > .github/workflows/ci-cd.yml <<'YAML'                                      git push
                                                                cat > .github/workflows/ci-cd.yml <<'YAML'
                                                                cat > .github/workflows/ci-cd.yml <<'YAML'                                      git push
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ 
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ 
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ 
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ 
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ 
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ 
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ 
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ 
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ 
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ 
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ 
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ 
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ 
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ python -c "import yaml,sys; yaml.safe_load(open('.github/workflows/ci-cd.yml')); print('YAML OK')"
YAML OK
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ git add .github/workflows/ci-cd.yml
git commit -m "Corrigindo sintaxe YAML do workflow"
git push
[main 8f5c763] Corrigindo sintaxe YAML do workflow
 1 file changed, 10 insertions(+), 36 deletions(-)
Username for 'https://github.com': Melo2L
Password for 'https://Melo2L@github.com': 
Enumerating objects: 9, done.
Counting objects: 100% (9/9), done.
Delta compression using up to 3 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (5/5), 597 bytes | 597.00 KiB/s, done.
Total 5 (delta 1), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/Melo2L/projeto-final-devops.git
   2385ae6..8f5c763  main -> main
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ cat > .github/workflows/ci-cd.yml <<'YAML'
name: Pipeline com DEV STG PRD + testes

on:
  push:
    branches:
      - main
  workflow_dispatch:

jobs:
  build-test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout do codigo
        uses: actions/checkout@v4

      - name: Build dos containers
        run: docker compose build

      - name: Rodar testes (unit)
        run: |
          docker compose run --rm data-service python -m pytest -q
          curl -sSf http://localhost:5001/dataon -m pytest -q
> YAML
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ nl -ba .github/workflows/ci-cd.yml | sed -n '55,80p'
    55	
    56	      - name: Smoke test STG
    57	        run: |
    58	          sleep 25
    59	          curl -sSf http://localhost:5001/data
    60	          curl -sSf http://localhost:5000/api
    61	
    62	      - name: Limpeza STG
    63	        if: always()
    64	        run: docker compose down -v
    65	
    66	  deploy-prd:
    67	    runs-on: ubuntu-latest
    68	    needs: deploy-stg
    69	    environment: PRD
    70	    steps:
    71	      - name: Checkout do codigo
    72	        uses: actions/checkout@v4
    73	
    74	      - name: Subir stack (PRD)
    75	        run: docker compose up -d --build
    76	
    77	      - name: Smoke test PRD
    78	        run: |
    79	          sleep 25
    80	          curl -sSf http://localhost:5001/data
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ git add .github/workflows/ci-cd.yml
git commit -m "Corrigindo steps do workflow (sem step vazio)"
git push
[main a895d8b] Corrigindo steps do workflow (sem step vazio)
 1 file changed, 26 insertions(+), 11 deletions(-)
Username for 'https://github.com': Melo2L
Password for 'https://Melo2L@github.com': 
Enumerating objects: 9, done.
Counting objects: 100% (9/9), done.
Delta compression using up to 3 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (5/5), 632 bytes | 632.00 KiB/s, done.
Total 5 (delta 1), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/Melo2L/projeto-final-devops.git
   8f5c763..a895d8b  main -> main
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ cd ~/projeto-final-devops/projeto-final-devops
mkdir -p services/data-service/tests
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ cat > services/data-service/tests/test_basic.py <<'PY'
def test_ok():
    assert True
PY
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ mkdir -p services/gateway/tests
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ cat > services/gateway/tests/test_basic.py <<'PY'
def test_ok():
    assert True
PY
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ git add .
git commit -m "Adicionando testes pytest básicos"
git push
[main 95951b5] Adicionando testes pytest básicos
 2 files changed, 4 insertions(+)
 create mode 100644 services/data-service/tests/test_basic.py
 create mode 100644 services/gateway/tests/test_basic.py
Username for 'https://github.com': Melo2L
Password for 'https://Melo2L@github.com': 
Enumerating objects: 14, done.
Counting objects: 100% (14/14), done.
Delta compression using up to 3 threads
Compressing objects: 100% (7/7), done.
Writing objects: 100% (8/8), 671 bytes | 671.00 KiB/s, done.
Total 8 (delta 3), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas: 100% (3/3), completed with 3 local objects.
To https://github.com/Melo2L/projeto-final-devops.git
   a895d8b..95951b5  main -> main
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ git add .
git commit -m "Adicionando pasta tests nos Dockerfiles"
git push
[main b72bd43] Adicionando pasta tests nos Dockerfiles
 2 files changed, 10 insertions(+)
Username for 'https://github.com': Melo2L
Password for 'https://Melo2L@github.com': 
Enumerating objects: 11, done.
Counting objects: 100% (11/11), done.
Delta compression using up to 3 threads
Compressing objects: 100% (6/6), done.
Writing objects: 100% (6/6), 790 bytes | 790.00 KiB/s, done.
Total 6 (delta 1), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/Melo2L/projeto-final-devops.git
   95951b5..b72bd43  main -> main
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ git add .github/workflows/ci-cd.yml
git commit -m "Ajuste smoke test: aguardar gateway + logs em falha"
git push
[main a02e6e0] Ajuste smoke test: aguardar gateway + logs em falha
 1 file changed, 17 insertions(+), 2 deletions(-)
Username for 'https://github.com': Melo2L
Password for 'https://Melo2L@github.com': 
Enumerating objects: 9, done.
Counting objects: 100% (9/9), done.
Delta compression using up to 3 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (5/5), 752 bytes | 752.00 KiB/s, done.
Total 5 (delta 1), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/Melo2L/projeto-final-devops.git
   b72bd43..a02e6e0  main -> main
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ docker compose up --build
[+] up 5/6
 ⠼ Image jaegertracing/all-in-one:1.57 [⣿⣿⣿⣿⣿] 34.26MB / 34.26MB Pulling    7.4s
[+] Building 2.1s (22/22) FINISHED                                              
 => [internal] load local bake definitions                                 0.0s
 => => reading from stdin 1.19kB                                           0.0s
 => [data-service internal] load build definition from Dockerfile          0.0s
 => => transferring dockerfile: 217B                                       0.0s
 => [gateway internal] load build definition from Dockerfile               0.0s
 => => transferring dockerfile: 217B                                       0.0s
 => [data-service internal] load metadata for docker.io/library/python:3.  1.0s
 => [data-service internal] load .dockerignore                             0.0s
 => => transferring context: 2B                                            0.0s
 => [gateway internal] load .dockerignore                                  0.0s
 => => transferring context: 2B                                            0.0s
 => [gateway 1/6] FROM docker.io/library/python:3.11-slim@sha256:524557f6  0.0s
 => [gateway internal] load build context                                  0.0s
 => => transferring context: 237B                                          0.0s
 => [data-service internal] load build context                             0.0s
 => => transferring context: 234B                                          0.0s
 => CACHED [data-service 2/6] WORKDIR /app                                 0.0s
 => CACHED [gateway 3/6] COPY requirements.txt .                           0.0s
 => CACHED [gateway 4/6] RUN pip install --no-cache-dir -r requirements.t  0.0s
 => CACHED [gateway 5/6] COPY app ./app                                    0.0s
 => [gateway 6/6] COPY tests ./tests                                       0.3s
 => CACHED [data-service 3/6] COPY requirements.txt .                      0.0s
 => CACHED [data-service 4/6] RUN pip install --no-cache-dir -r requireme  0.0s
 => CACHED [data-service 5/6] COPY app ./app                               0.0s
 => [data-service 6/6] COPY tests ./tests                                  0.2s
 => [gateway] exporting to image                                           0.1s
 => => exporting layers                                                    0.1s
 => => writing image sha256:09470acf29dafe4338da7398a336c79b3097ed1e611fa  0.0s
 => => naming to docker.io/library/projeto-final-devops-gateway            0.0s
 => [data-service] exporting to image                                      0.2s
 => => exporting layers                                                    0.1s
 => => writing image sha256:cfb9d8eb81962437e1a5ba6ec0b0872467ae4a577962b  0.0s
 => => naming to docker.io/library/projeto-final-devops-data-service       0.0s
[+] up 11/11] resolving provenance for metadata file                       0.0s
 ✔ Image jaegertracing/all-in-one:1.57           Pulled                    7.4ss
 ✔ Image projeto-final-devops-data-service       Built                     2.2ss
 ✔ Image projeto-final-devops-gateway            Built                     2.2ss
 ✔ Container projeto-final-devops-jaeger-1       Created                   0.1ss
 ✔ Container projeto-final-devops-data-service-1 Recreated                 10.6s
 ✔ Container projeto-final-devops-gateway-1      Recreated                 10.6s
Attaching to data-service-1, gateway-1, jaeger-1
jaeger-1  | 2026/02/05 01:05:02 maxprocs: Leaving GOMAXPROCS=3: CPU quota undefined
jaeger-1  | 2026/02/05 01:05:02 application version: git-commit=55e991a29725468164b11be5fc4e260dc09598d6, git-version=v1.57.0, build-date=2024-05-01T23:19:12Z
jaeger-1  | {"level":"info","ts":1770253502.944847,"caller":"flags/service.go:110","msg":"Mounting metrics handler on admin server","route":"/metrics"}
jaeger-1  | {"level":"info","ts":1770253502.9451663,"caller":"flags/service.go:116","msg":"Mounting expvar handler on admin server","route":"/debug/vars"}
jaeger-1  | {"level":"info","ts":1770253502.961809,"caller":"flags/admin.go:130","msg":"Mounting health check on admin server","route":"/"}
jaeger-1  | {"level":"info","ts":1770253502.961945,"caller":"flags/admin.go:144","msg":"Starting admin HTTP server","http-addr":":14269"}
jaeger-1  | {"level":"info","ts":1770253502.9624372,"caller":"flags/admin.go:122","msg":"Admin server started","http.host-port":"0.0.0.0:14269","health-status":"unavailable"}
jaeger-1  | {"level":"info","ts":1770253502.9638493,"caller":"grpc@v1.63.2/clientconn.go:427","msg":"[core][Channel #1]Channel created","system":"grpc","grpc_log":true}
jaeger-1  | {"level":"info","ts":1770253502.9639206,"caller":"grpc@v1.63.2/clientconn.go:1668","msg":"[core][Channel #1]original dial target is: \"localhost:4317\"","system":"grpc","grpc_log":true}
jaeger-1  | {"level":"info","ts":1770253502.9639575,"caller":"grpc@v1.63.2/clientconn.go:1675","msg":"[core][Channel #1]parsed dial target is: resolver.Target{URL:url.URL{Scheme:\"localhost\", Opaque:\"4317\", User:(*url.Userinfo)(nil), Host:\"\", Path:\"\", RawPath:\"\", OmitHost:false, ForceQuery:false, RawQuery:\"\", Fragment:\"\", RawFragment:\"\"}}","system":"grpc","grpc_log":true}
jaeger-1  | {"level":"info","ts":1770253502.9639676,"caller":"grpc@v1.63.2/clientconn.go:1694","msg":"[core][Channel #1]fallback to scheme \"dns\"","system":"grpc","grpc_log":true}
jaeger-1  | {"level":"info","ts":1770253502.9639814,"caller":"grpc@v1.63.2/clientconn.go:1702","msg":"[core][Channel #1]parsed dial target is: dns:///localhost:4317","system":"grpc","grpc_log":true}
jaeger-1  | {"level":"info","ts":1770253502.963996,"caller":"grpc@v1.63.2/clientconn.go:1825","msg":"[core][Channel #1]Channel authority set to \"localhost:4317\"","system":"grpc","grpc_log":true}
jaeger-1  | {"level":"info","ts":1770253502.9643204,"caller":"memory/factory.go:85","msg":"Memory storage initialized","configuration":{"MaxTraces":0}}
jaeger-1  | {"level":"info","ts":1770253502.964622,"caller":"static/strategy_store.go:160","msg":"Loading sampling strategies","filename":"/etc/jaeger/sampling_strategies.json"}
jaeger-1  | {"level":"warn","ts":1770253502.9651494,"caller":"static/strategy_store.go:82","msg":"Default operations level strategies will not be included for Ratelimiting service strategies.This behavior will be changed in future releases. Cf. https://github.com/jaegertracing/jaeger/issues/5270"}
jaeger-1  | {"level":"info","ts":1770253502.983026,"caller":"grpc@v1.63.2/server.go:675","msg":"[core][Server #2]Server created","system":"grpc","grpc_log":true}
jaeger-1  | {"level":"info","ts":1770253502.9831486,"caller":"server/grpc.go:104","msg":"Starting jaeger-collector gRPC server","grpc.host-port":"0.0.0.0:14250"}
jaeger-1  | {"level":"info","ts":1770253502.9831579,"caller":"server/http.go:56","msg":"Starting jaeger-collector HTTP server","http host-port":":14268"}
jaeger-1  | {"level":"info","ts":1770253502.9845781,"caller":"app/collector.go:146","msg":"Not listening for Zipkin HTTP traffic, port not configured"}
jaeger-1  | {"level":"info","ts":1770253502.9900038,"caller":"handler/otlp_receiver.go:77","msg":"OTLP receiver status change","status":"StatusStarting"}
jaeger-1  | {"level":"warn","ts":1770253502.99007,"caller":"internal@v0.98.0/warning.go:42","msg":"Using the 0.0.0.0 address exposes this server to every network interface, which may facilitate Denial of Service attacks. Enable the feature gate to change the default and remove this warning.","documentation":"https://github.com/open-telemetry/opentelemetry-collector/blob/main/docs/security-best-practices.md#safeguards-against-denial-of-service-attacks","feature gate ID":"component.UseLocalHostAsDefaultHost"}
jaeger-1  | {"level":"info","ts":1770253502.9901206,"caller":"grpc@v1.63.2/server.go:675","msg":"[core][Server #4]Server created","system":"grpc","grpc_log":true}
jaeger-1  | {"level":"info","ts":1770253502.9901366,"caller":"otlpreceiver@v0.98.0/otlp.go:102","msg":"Starting GRPC server","endpoint":"0.0.0.0:4317"}
jaeger-1  | {"level":"warn","ts":1770253502.990203,"caller":"internal@v0.98.0/warning.go:42","msg":"Using the 0.0.0.0 address exposes this server to every network interface, which may facilitate Denial of Service attacks. Enable the feature gate to change the default and remove this warning.","documentation":"https://github.com/open-telemetry/opentelemetry-collector/blob/main/docs/security-best-practices.md#safeguards-against-denial-of-service-attacks","feature gate ID":"component.UseLocalHostAsDefaultHost"}
jaeger-1  | {"level":"info","ts":1770253502.9902325,"caller":"otlpreceiver@v0.98.0/otlp.go:152","msg":"Starting HTTP server","endpoint":"0.0.0.0:4318"}
jaeger-1  | {"level":"info","ts":1770253502.9902768,"caller":"grpc/builder.go:74","msg":"Agent requested insecure grpc connection to collector(s)"}
jaeger-1  | {"level":"info","ts":1770253502.9903362,"caller":"grpc@v1.63.2/clientconn.go:427","msg":"[core][Channel #5]Channel created","system":"grpc","grpc_log":true}
jaeger-1  | {"level":"info","ts":1770253502.9903452,"caller":"grpc@v1.63.2/clientconn.go:1668","msg":"[core][Channel #5]original dial target is: \"localhost:14250\"","system":"grpc","grpc_log":true}
jaeger-1  | {"level":"info","ts":1770253502.9903705,"caller":"grpc@v1.63.2/clientconn.go:1675","msg":"[core][Channel #5]parsed dial target is: resolver.Target{URL:url.URL{Scheme:\"localhost\", Opaque:\"14250\", User:(*url.Userinfo)(nil), Host:\"\", Path:\"\", RawPath:\"\", OmitHost:false, ForceQuery:false, RawQuery:\"\", Fragment:\"\", RawFragment:\"\"}}","system":"grpc","grpc_log":true}
jaeger-1  | {"level":"info","ts":1770253502.990385,"caller":"grpc@v1.63.2/clientconn.go:1694","msg":"[core][Channel #5]fallback to scheme \"dns\"","system":"grpc","grpc_log":true}
jaeger-1  | {"level":"info","ts":1770253502.9903986,"caller":"grpc@v1.63.2/clientconn.go:1702","msg":"[core][Channel #5]parsed dial target is: dns:///localhost:14250","system":"grpc","grpc_log":true}
jaeger-1  | {"level":"info","ts":1770253502.9904075,"caller":"grpc@v1.63.2/clientconn.go:1825","msg":"[core][Channel #5]Channel authority set to \"localhost:14250\"","system":"grpc","grpc_log":true}
jaeger-1  | {"level":"info","ts":1770253502.9867618,"caller":"grpc@v1.63.2/server.go:871","msg":"[core][Server #2 ListenSocket #3]ListenSocket created","system":"grpc","grpc_log":true}
jaeger-1  | {"level":"info","ts":1770253502.9926076,"caller":"grpc@v1.63.2/server.go:871","msg":"[core][Server #4 ListenSocket #6]ListenSocket created","system":"grpc","grpc_log":true}
jaeger-1  | {"level":"info","ts":1770253502.9927406,"caller":"grpc/builder.go:115","msg":"Checking connection to collector"}
jaeger-1  | {"level":"info","ts":1770253502.9930058,"caller":"grpc/builder.go:131","msg":"Agent collector connection state change","dialTarget":"localhost:14250","status":"IDLE"}
jaeger-1  | {"level":"info","ts":1770253502.993874,"caller":"all-in-one/main.go:265","msg":"Starting agent"}
jaeger-1  | {"level":"info","ts":1770253502.9952896,"caller":"grpc@v1.63.2/server.go:675","msg":"[core][Server #7]Server created","system":"grpc","grpc_log":true}
jaeger-1  | {"level":"info","ts":1770253503.0014405,"caller":"app/static_handler.go:109","msg":"Using UI configuration","path":""}
jaeger-1  | {"level":"info","ts":1770253503.0051043,"caller":"app/server.go:236","msg":"Query server started","http_addr":"0.0.0.0:16686","grpc_addr":"0.0.0.0:16685"}
jaeger-1  | {"level":"info","ts":1770253503.0085213,"caller":"healthcheck/handler.go:129","msg":"Health Check state change","status":"ready"}
jaeger-1  | {"level":"info","ts":1770253502.9991393,"caller":"app/agent.go:69","msg":"Starting jaeger-agent HTTP server","http-port":5778}
jaeger-1  | {"level":"info","ts":1770253503.009863,"caller":"app/server.go:301","msg":"Starting HTTP server","port":16686,"addr":":16686"}
jaeger-1  | {"level":"info","ts":1770253503.0098884,"caller":"app/server.go:319","msg":"Starting GRPC server","port":16685,"addr":":16685"}
jaeger-1  | {"level":"info","ts":1770253503.015397,"caller":"grpc@v1.63.2/server.go:871","msg":"[core][Server #7 ListenSocket #8]ListenSocket created","system":"grpc","grpc_log":true}
data-service-1  |  * Serving Flask app 'main'
data-service-1  |  * Debug mode: off
data-service-1  | WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
data-service-1  |  * Running on all addresses (0.0.0.0)
data-service-1  |  * Running on http://127.0.0.1:5001
data-service-1  |  * Running on http://172.18.0.3:5001
data-service-1  | Press CTRL+C to quit
gateway-1       |  * Serving Flask app 'main'
gateway-1       |  * Debug mode: off
gateway-1       | WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
gateway-1       |  * Running on all addresses (0.0.0.0)
gateway-1       |  * Running on http://127.0.0.1:5000
gateway-1       |  * Running on http://172.18.0.4:5000
gateway-1       | Press CTRL+C to quit
data-service-1  | 172.18.0.4 - - [05/Feb/2026 01:06:25] "GET /data HTTP/1.1" 200 -
gateway-1       | 172.18.0.1 - - [05/Feb/2026 01:06:25] "GET /api HTTP/1.1" 200 -
data-service-1  | 172.18.0.4 - - [05/Feb/2026 01:06:25] "GET /data HTTP/1.1" 200 -
gateway-1       | 172.18.0.1 - - [05/Feb/2026 01:06:25] "GET /api HTTP/1.1" 200 -
data-service-1  | 172.18.0.4 - - [05/Feb/2026 01:06:25] "GET /data HTTP/1.1" 200 -
gateway-1       | 172.18.0.1 - - [05/Feb/2026 01:06:25] "GET /api HTTP/1.1" 200 -
jaeger-1        | {"level":"info","ts":1770253653.4407434,"caller":"grpc@v1.63.2/clientconn.go:332","msg":"[core][Channel #1]Channel exiting idle mode","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253653.4445214,"caller":"grpc@v1.63.2/resolver_wrapper.go:197","msg":"[core][Channel #1]Resolver state updated: {\n  \"Addresses\": [\n    {\n      \"Addr\": \"127.0.0.1:4317\",\n      \"ServerName\": \"\",\n      \"Attributes\": null,\n      \"BalancerAttributes\": null,\n      \"Metadata\": null\n    }\n  ],\n  \"Endpoints\": [\n    {\n      \"Addresses\": [\n        {\n          \"Addr\": \"127.0.0.1:4317\",\n          \"ServerName\": \"\",\n          \"Attributes\": null,\n          \"BalancerAttributes\": null,\n          \"Metadata\": null\n        }\n      ],\n      \"Attributes\": null\n    }\n  ],\n  \"ServiceConfig\": null,\n  \"Attributes\": null\n} (resolver returned new addresses)","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253653.4445565,"caller":"grpc@v1.63.2/balancer_wrapper.go:103","msg":"[core][Channel #1]Channel switches to new LB policy \"pick_first\"","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253653.444898,"caller":"grpc@v1.63.2/balancer_wrapper.go:170","msg":"[core][Channel #1 SubChannel #9]Subchannel created","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253653.44529,"caller":"grpc@v1.63.2/clientconn.go:531","msg":"[core][Channel #1]Channel Connectivity change to CONNECTING","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253653.4453425,"caller":"grpc@v1.63.2/clientconn.go:1195","msg":"[core][Channel #1 SubChannel #9]Subchannel Connectivity change to CONNECTING","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253653.445351,"caller":"grpc@v1.63.2/clientconn.go:1310","msg":"[core][Channel #1 SubChannel #9]Subchannel picks a new address \"127.0.0.1:4317\" to connect","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253653.4461768,"caller":"grpc@v1.63.2/clientconn.go:1195","msg":"[core][Channel #1 SubChannel #9]Subchannel Connectivity change to READY","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253653.4463828,"caller":"grpc@v1.63.2/clientconn.go:531","msg":"[core][Channel #1]Channel Connectivity change to READY","system":"grpc","grpc_log":true}
data-service-1  | 172.18.0.4 - - [05/Feb/2026 01:08:36] "GET /data HTTP/1.1" 200 -
gateway-1       | 172.18.0.1 - - [05/Feb/2026 01:08:36] "GET /api HTTP/1.1" 200 -
data-service-1  | 172.18.0.4 - - [05/Feb/2026 01:08:36] "GET /data HTTP/1.1" 200 -
gateway-1       | 172.18.0.1 - - [05/Feb/2026 01:08:36] "GET /api HTTP/1.1" 200 -
data-service-1  | 172.18.0.4 - - [05/Feb/2026 01:08:36] "GET /data HTTP/1.1" 200 -
gateway-1       | 172.18.0.1 - - [05/Feb/2026 01:08:36] "GET /api HTTP/1.1" 200 -
data-service-1  | 172.18.0.4 - - [05/Feb/2026 01:08:41] "GET /data HTTP/1.1" 200 -
gateway-1       | 172.18.0.1 - - [05/Feb/2026 01:08:41] "GET /api HTTP/1.1" 200 -
data-service-1  | 172.18.0.4 - - [05/Feb/2026 01:08:41] "GET /data HTTP/1.1" 200 -
gateway-1       | 172.18.0.1 - - [05/Feb/2026 01:08:41] "GET /api HTTP/1.1" 200 -
data-service-1  | 172.18.0.4 - - [05/Feb/2026 01:08:41] "GET /data HTTP/1.1" 200 -
gateway-1       | 172.18.0.1 - - [05/Feb/2026 01:08:41] "GET /api HTTP/1.1" 200 -
data-service-1  | 172.18.0.4 - - [05/Feb/2026 01:08:42] "GET /data HTTP/1.1" 200 -
gateway-1       | 172.18.0.1 - - [05/Feb/2026 01:08:42] "GET /api HTTP/1.1" 200 -
data-service-1  | 172.18.0.4 - - [05/Feb/2026 01:08:42] "GET /data HTTP/1.1" 200 -
gateway-1       | 172.18.0.1 - - [05/Feb/2026 01:08:42] "GET /api HTTP/1.1" 200 -
data-service-1  | 172.18.0.4 - - [05/Feb/2026 01:08:42] "GET /data HTTP/1.1" 200 -
gateway-1       | 172.18.0.1 - - [05/Feb/2026 01:08:42] "GET /api HTTP/1.1" 200 -
data-service-1  | 172.18.0.4 - - [05/Feb/2026 01:09:39] "GET /data HTTP/1.1" 200 -
gateway-1       | 172.18.0.1 - - [05/Feb/2026 01:09:39] "GET /api HTTP/1.1" 200 -
data-service-1  | 172.18.0.4 - - [05/Feb/2026 01:09:39] "GET /data HTTP/1.1" 200 -
gateway-1       | 172.18.0.1 - - [05/Feb/2026 01:09:39] "GET /api HTTP/1.1" 200 -
data-service-1  | 172.18.0.4 - - [05/Feb/2026 01:09:39] "GET /data HTTP/1.1" 200 -
gateway-1       | 172.18.0.1 - - [05/Feb/2026 01:09:39] "GET /api HTTP/1.1" 200 -
jaeger-1        | {"level":"info","ts":1770253843.8775847,"caller":"flags/service.go:139","msg":"Shutting down"}
jaeger-1        | {"level":"info","ts":1770253843.8778243,"caller":"healthcheck/handler.go:129","msg":"Health Check state change","status":"unavailable"}
jaeger-1        | {"level":"info","ts":1770253843.877845,"caller":"app/agent.go:89","msg":"shutting down agent's HTTP server","addr":"0.0.0.0:5778"}
jaeger-1        | {"level":"info","ts":1770253843.878565,"caller":"app/agent.go:73","msg":"agent's http server exiting"}
jaeger-1        | {"level":"info","ts":1770253843.8790357,"caller":"grpc@v1.63.2/clientconn.go:531","msg":"[core][Channel #5]Channel Connectivity change to SHUTDOWN","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253843.8790545,"caller":"grpc@v1.63.2/resolver_wrapper.go:100","msg":"[core][Channel #5]Closing the name resolver","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253843.8790662,"caller":"grpc@v1.63.2/balancer_wrapper.go:135","msg":"[core][Channel #5]ccBalancerWrapper: closing","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253843.8790789,"caller":"grpc/builder.go:131","msg":"Agent collector connection state change","dialTarget":"localhost:14250","status":"SHUTDOWN"}
jaeger-1        | {"level":"info","ts":1770253843.8790898,"caller":"grpc@v1.63.2/clientconn.go:1145","msg":"[core][Channel #5]Channel deleted","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253843.8791313,"caller":"grpc@v1.63.2/server.go:807","msg":"[core][Server #2 ListenSocket #3]ListenSocket deleted","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253843.8791516,"caller":"healthcheck/handler.go:129","msg":"Health Check state change","status":"unavailable"}
jaeger-1        | {"level":"info","ts":1770253843.879214,"caller":"handler/otlp_receiver.go:77","msg":"OTLP receiver status change","status":"StatusStopping"}
jaeger-1        | {"level":"info","ts":1770253843.8792653,"caller":"grpc@v1.63.2/server.go:807","msg":"[core][Server #4 ListenSocket #6]ListenSocket deleted","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253843.881539,"caller":"grpc@v1.63.2/clientconn.go:1195","msg":"[core][Channel #1 SubChannel #9]Subchannel Connectivity change to IDLE","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253843.8817346,"caller":"grpc@v1.63.2/clientconn.go:531","msg":"[core][Channel #1]Channel Connectivity change to IDLE","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253843.8818073,"caller":"handler/otlp_receiver.go:77","msg":"OTLP receiver status change","status":"StatusStopped"}
jaeger-1        | {"level":"info","ts":1770253843.8818753,"caller":"grpc@v1.63.2/server.go:807","msg":"[core][Server #7 ListenSocket #8]ListenSocket deleted","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253843.881893,"caller":"healthcheck/handler.go:129","msg":"Health Check state change","status":"unavailable"}
jaeger-1        | {"level":"info","ts":1770253843.8829823,"caller":"healthcheck/handler.go:129","msg":"Health Check state change","status":"unavailable"}
jaeger-1        | {"level":"info","ts":1770253843.8860784,"caller":"grpc@v1.63.2/clientconn.go:531","msg":"[core][Channel #1]Channel Connectivity change to SHUTDOWN","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253843.8881257,"caller":"grpc@v1.63.2/resolver_wrapper.go:100","msg":"[core][Channel #1]Closing the name resolver","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253843.888385,"caller":"grpc@v1.63.2/balancer_wrapper.go:135","msg":"[core][Channel #1]ccBalancerWrapper: closing","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253843.8884084,"caller":"grpc@v1.63.2/clientconn.go:1195","msg":"[core][Channel #1 SubChannel #9]Subchannel Connectivity change to SHUTDOWN","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253843.8884165,"caller":"grpc@v1.63.2/clientconn.go:1143","msg":"[core][Channel #1 SubChannel #9]Subchannel deleted","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253843.8884218,"caller":"grpc@v1.63.2/clientconn.go:1145","msg":"[core][Channel #1]Channel deleted","system":"grpc","grpc_log":true}
jaeger-1        | {"level":"info","ts":1770253843.8884938,"caller":"flags/service.go:147","msg":"Shutdown complete"}
jaeger-1 exited with code 0
gateway-1 exited with code 137
data-service-1 exited with code 137
ubuntu@ubuntu-2204:~/projeto-final-devops/projeto-final-devops$ 

